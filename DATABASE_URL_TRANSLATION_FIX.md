# üö® –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–∫–∏ –ø–µ—Ä–µ–∫–ª–∞–¥—É DATABASE_URL

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞:
```
url = env("URL_–ë–ê–ó–ò_–î–ê–ù–ò–•")
–ö–æ–¥ –ø–æ–º–∏–ª–∫–∏: 'P1012'
```

Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–∫–ª–∞–¥–∞—î `DATABASE_URL` –Ω–∞ `URL_–ë–ê–ó–ò_–î–ê–ù–ò–•` –ø—ñ–¥ —á–∞—Å –∑–±—ñ—Ä–∫–∏, —â–æ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –ø–æ–º–∏–ª–∫–∏.

## ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è (–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π)
–ù–æ–≤–∏–π —Å–∫—Ä–∏–ø—Ç –∑–±—ñ—Ä–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î —á–∏—Å—Ç–∏–π PostgreSQL schema:

```bash
# –£ Vercel —Ü–µ –≤—ñ–¥–±—É–¥–µ—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ –¥–µ–ø–ª–æ—ó
./scripts/vercel-build.sh
```

### –í–∞—Ä—ñ–∞–Ω—Ç 2: Emergency Fix
–Ø–∫—â–æ –ø—Ä–æ–±–ª–µ–º–∞ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è:

```bash
# –ó–∞–ø—É—Å—Ç—ñ—Ç—å emergency fix –ª–æ–∫–∞–ª—å–Ω–æ –∑ PostgreSQL DATABASE_URL
export DATABASE_URL="postgresql://your-connection-string"
yarn build:emergency
```

### –í–∞—Ä—ñ–∞–Ω—Ç 3: –†—É—á–Ω–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –≤ Vercel
1. –£ Vercel Dashboard ‚Üí Settings ‚Üí Environment Variables
2. –î–æ–¥–∞–π—Ç–µ –∑–º—ñ–Ω–Ω—É:
   ```
   PRISMA_SCHEMA_DISABLE_ADVISORY_LOCK=1
   ```
3. –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä—É–π—Ç–µ –¥–µ–ø–ª–æ–π

## üîß –©–æ –∑–º—ñ–Ω–µ–Ω–æ:

1. **–ù–æ–≤–∏–π build —Å–∫—Ä–∏–ø—Ç** - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∑–∞–≥–æ—Ç–æ–≤–ª–µ–Ω—ñ schema —Ñ–∞–π–ª–∏
2. **Emergency fix —Å–∫—Ä–∏–ø—Ç** - —Å—Ç–≤–æ—Ä—é—î –∞–±—Å–æ–ª—é—Ç–Ω–æ —á–∏—Å—Ç–∏–π schema 
3. **Force English locale** - –∑–∞–ø–æ–±—ñ–≥–∞—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–º—É –ø–µ—Ä–µ–∫–ª–∞–¥—É
4. **Backup —Å–∏—Å—Ç–µ–º–∞** - –∑–±–µ—Ä—ñ–≥–∞—î –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—ñ —Ñ–∞–π–ª–∏

## üìã –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:

### 1. Health Check:
```
https://your-domain.vercel.app/api/health
```

–ü–æ–≤–∏–Ω–µ–Ω –ø–æ–∫–∞–∑–∞—Ç–∏:
```json
{
  "status": "ok",
  "database": "connected",
  "consultationsCount": 0
}
```

### 2. –¢–µ—Å—Ç —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—ó:
```bash
curl -X POST https://your-domain.vercel.app/api/consultations \
  -H "Content-Type: application/json" \
  -d '{"name": "–¢–µ—Å—Ç", "gender": "–ß–æ–ª–æ–≤—ñ–∫"}'
```

## üéØ –û—Å–Ω–æ–≤–Ω—ñ –∑–º—ñ–Ω–∏ –≤ build –ø—Ä–æ—Ü–µ—Å—ñ:

### –°—Ç–∞—Ä–∏–π —Å–ø–æ—Å—ñ–± (–ø—Ä–æ–±–ª–µ–º–Ω–∏–π):
- ‚ùå –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è sed –¥–ª—è –∑–∞–º—ñ–Ω–∏ —Ç–µ–∫—Å—Ç—É
- ‚ùå –£–∫—Ä–∞—ó–Ω—Å—å–∫—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –≤ schema
- ‚ùå –î–∏–Ω–∞–º—ñ—á–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è schema

### –ù–æ–≤–∏–π —Å–ø–æ—Å—ñ–± (–Ω–∞–¥—ñ–π–Ω–∏–π):
- ‚úÖ –ó–∞–≥–æ—Ç–æ–≤–ª–µ–Ω—ñ schema —Ñ–∞–π–ª–∏
- ‚úÖ –¢—ñ–ª—å–∫–∏ –∞–Ω–≥–ª—ñ–π—Å—å–∫—ñ —Å–∏–º–≤–æ–ª–∏
- ‚úÖ –ü—Ä–æ—Å—Ç–∏–π copy –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑–∞–º—ñ—Å—Ç—å sed
- ‚úÖ Force English locale

## üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –¥–µ–ø–ª–æ–π –±–µ–∑ –ø–æ–º–∏–ª–æ–∫ P1012
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∏–π DATABASE_URL —É –≤—Å—ñ—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞—Ö  
- ‚úÖ –°—Ç–∞–±—ñ–ª—å–Ω–∞ –∑–±—ñ—Ä–∫–∞ –Ω–∞ Vercel
- ‚úÖ Backup —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –±–µ–∑–ø–µ–∫–∏